@model IEnumerable<APOD.Models.APODModel>

@{
	ViewData["Title"] = "Index";
}

<div class="container">
	<div class="row">
		<h1 class="mb-5" style="color: cornflowerblue;"><b>NASA Image</b></h1>
		@foreach (var apod in Model)
		{
			<div class=" col-3 mb-5">
				<div class="card border-secondary h-100">
					<img src="@Html.DisplayFor(item => apod.Url)" class="card-img-top" alt="..." style="object-fit: cover; width: 300px; height: 150px">
					<div class="card-body">
						<p class="card-title">@Html.DisplayFor(item => apod.Title)</p>

					</div>
					<div class="card-footer">
						<a asp-action="Details" asp-route-id="@apod.Id">보기</a>
					</div>
				</div>
			</div>
		}
	</div>
</div>


<form asp-controller="APOD" asp-action="Index" method="get">
	<div class="mt-3">
		<button type="submit" name="page" value=1>&laquo;</button>
		@for (int i = 0; i < 3; i++)
		{
			@if ((int)ViewData["CurrentPage"] + i <= Convert.ToInt32(ViewData["TotalPage"]))
			{
				<button type="submit" name="page"
				value="@((int)ViewData["CurrentPage"] + i)">
					@((int)ViewData["CurrentPage"] + i)
				</button>
			}
		}
		<button type="submit" name="page" value="@ViewData["TotalPage"]">&raquo;</button>
	</div>
</form>